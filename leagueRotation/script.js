const gameVersion = "10.4.1"

const iconUrl = `https://ddragon.leagueoflegends.com/cdn/${gameVersion}/img/champion`

const champions = [
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 1,
      name: "Aatrox",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 2,
      name: "Ahri",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 3,
      name: "Akali",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 4,
      name: "Alistar",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 5,
      name: "Amumu",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 6,
      name: "Anivia",
      dateLastOnRotation: "2020-10-04",
    },
    {
      id: 7,
      name: "Annie",
      dateLastOnRotation: "2020-12-10",
    },
    {
      id: 8,
      name: "Aphelios",
      dateLastOnRotation: "2020-10-12",
    },
    {
      id: 9,
      name: "Ashe",
      dateLastOnRotation: "2020-10-04",
    },
]

const mostRecentDate = new Date(Math.max.apply(null, champions.map(champion => {
  return new Date(champion.dateLastOnRotation);
})));

const mostRecentObject = champions.filter(champion => {
  const d = new Date(champion.dateLastOnRotation);
  return d.getTime() == mostRecentDate.getTime();
})[0];

selectChampion = (selectedId) => {
  const selectedChampion = champions.find(champion => champion.id === selectedId);
  showData(selectedChampion);
}

showData = (selectedChampion) => {
  document.getElementById('dataListContainer').classList.remove('hide');

  document.getElementById('name').innerHTML = 'Name: ' + selectedChampion.name;
  document.getElementById('dateLastOnRotation').innerHTML = 'Date Last on Rotation: ' + selectedChampion.dateLastOnRotation;
  document.getElementById('dateNextOnRotation').innerHTML = 'Date Next on Rotation: ' + selectedChampion.dateNextOnRotation;
}

const mapTest = champions.map(champion => (
`<div class="championBtn" onclick="selectChampion(${champion.id})">
  <img src="${iconUrl}/${champion.name}.png"/></img>
  <div>${champion.name}</div>
</div>`
));

onLoad = () => {
  document.getElementById('btnListContainer').innerHTML = mapTest;
}